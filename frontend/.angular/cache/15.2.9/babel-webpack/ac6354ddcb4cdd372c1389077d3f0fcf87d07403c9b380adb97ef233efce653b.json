{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet HomeComponent = class HomeComponent {\n  constructor(foodService, activatedRoute, cartService, rooter, http) {\n    this.foodService = foodService;\n    this.cartService = cartService;\n    this.rooter = rooter;\n    this.http = http;\n    this.foods = [];\n    let foods$;\n    activatedRoute.params.subscribe(params => {\n      if (params.searchTerm) {\n        foods$ = this.foodService.getAllFoodsBySearchTerm(params.searchTerm);\n      } else if (params.tag) {\n        foods$ = this.foodService.getAllFoodsByTag(params.tag);\n      } else {\n        foods$ = foodService.getAll();\n      }\n      foods$.subscribe(serverFoods => {\n        this.foods = serverFoods;\n      });\n    });\n  }\n  ngOnInit() {}\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAc1C,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAGxBC,YAAoBC,WAAwB,EAAEC,cAA8B,EAAUC,WAAwB,EAAUC,MAAc,EAAUC,IAAgB;IAA5I,gBAAW,GAAXJ,WAAW;IAAuD,gBAAW,GAAXE,WAAW;IAAuB,WAAM,GAANC,MAAM;IAAkB,SAAI,GAAJC,IAAI;IAFpJ,UAAK,GAAW,EAAE;IAGhB,IAAIC,MAA0B;IAC9BJ,cAAc,CAACK,MAAM,CAACC,SAAS,CAAED,MAAM,IAAI;MACzC,IAAGA,MAAM,CAACE,UAAU,EAAE;QACpBH,MAAM,GAAG,IAAI,CAACL,WAAW,CAACS,uBAAuB,CAACH,MAAM,CAACE,UAAU,CAAC;OACrE,MAAM,IAAIF,MAAM,CAACI,GAAG,EAAE;QACrBL,MAAM,GAAG,IAAI,CAACL,WAAW,CAACW,gBAAgB,CAACL,MAAM,CAACI,GAAG,CAAC;OACvD,MAAM;QACLL,MAAM,GAAGL,WAAW,CAACY,MAAM,EAAE;;MAG/BP,MAAM,CAACE,SAAS,CAAEM,WAAW,IAAI;QAC/B,IAAI,CAACC,KAAK,GAAGD,WAAW;MAC1B,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEAE,QAAQ,IAER;CAOD;AA7BYjB,aAAa,eALzBD,SAAS,CAAC;EACTmB,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACWpB,aAAa,CA6BzB;SA7BYA,aAAa","names":["Component","HomeComponent","constructor","foodService","activatedRoute","cartService","rooter","http","foods$","params","subscribe","searchTerm","getAllFoodsBySearchTerm","tag","getAllFoodsByTag","getAll","serverFoods","foods","ngOnInit","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/thor/Documents/Applications/foodmine/frontend/src/app/components/pages/home/home.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Food } from '../../shared/food.model';\nimport { FoodService } from 'src/app/services/food.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CartService } from 'src/app/services/cart.service';\nimport { Observable } from 'rxjs';\nimport { FOODS_BY_ID_URL } from '../../constants/urls';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n  foods: Food[] = [];\n\n  constructor(private foodService: FoodService, activatedRoute: ActivatedRoute, private cartService: CartService, private rooter: Router, private http: HttpClient) {\n    let foods$: Observable<Food[]>;\n    activatedRoute.params.subscribe((params) => {\n      if(params.searchTerm) {\n        foods$ = this.foodService.getAllFoodsBySearchTerm(params.searchTerm);\n      } else if (params.tag) {\n        foods$ = this.foodService.getAllFoodsByTag(params.tag);\n      } else {\n        foods$ = foodService.getAll();\n      }\n      \n      foods$.subscribe((serverFoods) => {\n        this.foods = serverFoods;\n      })\n    });\n  }\n\n  ngOnInit(): void {\n\n  }\n\n  /* addToCart(foodId: number): void {\n    if (this.http.get<Food>(FOODS_BY_ID_URL + foodId) !== undefined) {\n      this.cartService.addToCart(this.foodService.getAll().find(food => food.id == foodId));\n    }\n  } */\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}